<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Gst.Bus</title>
<link rel="stylesheet" type="text/css" href="C.css">
<script type="text/javascript" src="jquery.js"></script><script type="text/javascript" src="jquery.syntax.js"></script><script type="text/javascript" src="yelp.js"></script>
</head>
<body><div class="page" role="main">
<div class="header"><div class="trails" role="navigation"><div class="trail">
<a class="trail" href="index.html" title="Index">Index</a> » </div></div></div>
<div class="body">
<div class="hgroup"><h1 class="title"><span class="title">Gst.Bus</span></h1></div>
<div class="region">
<div class="contents">
<div class="synopsis"><div class="inner"><div class="region"><div class="contents"><div class="code"><pre class="contents ">const Gst = imports.gi.Gst;

let bus = new Gst.Bus({
    <span class=" link"><a href="Gst.Bus-enable-async.html" title="Gst.Bus:enable-async">enable_async</a></span>: value,
});
  </pre></div></div></div></div></div>
<p class="p">The <span class=" link"><a href="Gst.Bus.html" title="Gst.Bus">Gst.Bus</a></span> is an object responsible for delivering <span class=" link"><a href="Gst.Message.html" title="Gst.Message">Gst.Message</a></span> packets in
a first-in first-out way from the streaming threads (see <span class=" link"><a href="Gst.Task.html" title="Gst.Task">Gst.Task</a></span>) to the
application.</p>
<p class="p">Since the application typically only wants to deal with delivery of these
messages from one thread, the GstBus will marshall the messages between
different threads. This is important since the actual streaming of media
is done in another thread than the application.</p>
<p class="p">The GstBus provides support for <span class=" link"><a href="GLib.Source.html" title="GLib.Source">GLib.Source</a></span> based notifications. This makes it
possible to handle the delivery in the glib mainloop.</p>
<p class="p">The <span class=" link"><a href="GLib.Source.html" title="GLib.Source">GLib.Source</a></span> callback function <span class=" link"><a href="Gst.async_signal_func.html" title="Gst.async_signal_func">Gst.async_signal_func</a></span> can be used to
convert all bus messages into signal emissions.</p>
<p class="p">A message is posted on the bus with the <span class=" link"><a href="Gst.post.html" title="Gst.post">Gst.post</a></span> method. With the
<span class=" link"><a href="Gst.peek.html" title="Gst.peek">Gst.peek</a></span> and <span class=" link"><a href="Gst.pop.html" title="Gst.pop">Gst.pop</a></span> methods one can look at or retrieve a
previously posted message.</p>
<p class="p">The bus can be polled with the <span class=" link"><a href="Gst.poll.html" title="Gst.poll">Gst.poll</a></span> method. This methods blocks
up to the specified timeout value until one of the specified messages types
is posted on the bus. The application can then <span class=" link"><a href="Gst.pop.html" title="Gst.pop">Gst.pop</a></span> the messages
from the bus to handle them.
Alternatively the application can register an asynchronous bus function
using <span class=" link"><a href="Gst.add_watch_full.html" title="Gst.add_watch_full">Gst.add_watch_full</a></span> or <span class=" link"><a href="Gst.add_watch.html" title="Gst.add_watch">Gst.add_watch</a></span>. This function will
install a <span class=" link"><a href="GLib.Source.html" title="GLib.Source">GLib.Source</a></span> in the default glib main loop and will deliver messages
a short while after they have been posted. Note that the main loop should
be running for the asynchronous callbacks.</p>
<p class="p">It is also possible to get messages from the bus without any thread
marshalling with the <span class=" link"><a href="Gst.set_sync_handler.html" title="Gst.set_sync_handler">Gst.set_sync_handler</a></span> method. This makes it
possible to react to a message in the same thread that posted the
message on the bus. This should only be used if the application is able
to deal with messages from different threads.</p>
<p class="p">Every <span class=" link"><a href="Gst.Pipeline.html" title="Gst.Pipeline">Gst.Pipeline</a></span> has one bus.</p>
<p class="p">Note that a <span class=" link"><a href="Gst.Pipeline.html" title="Gst.Pipeline">Gst.Pipeline</a></span> will set its bus into flushing state when changing
from READY to NULL state.</p>
<p class="p">Last reviewed on 2012-03-28 (0.11.3)</p>
<div class="synopsis"><div class="inner">
<div class="title title-synopsis"><h2><span class="title">Hierarchy</span></h2></div>
<div class="region"><div class="contents"><div class="tree"><div class="inner"><div class="region"><ul class="tree"><li class="tree">
<div>
        <span class=" code">GObject.Object</span>
      
      </div>
<ul class="tree"><li class="tree">
<div>
        <span class=" code">GObject.InitiallyUnowned</span>
      
      </div>
<ul class="tree"><li class="tree">
<div>
        <span class=" code">Gst.Object</span>
      
      </div>
<ul class="tree"><li class="tree"><div>
        <span class=" code">Gst.Bus</span>
      </div></li></ul>
</li></ul>
</li></ul>
</li></ul></div></div></div></div></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Methods</span></h2></div>
<div class="region"><ul>
<li class="links "><a href="Gst.Bus.add_signal_watch.html" title="Gst.Bus.prototype.add_signal_watch">Gst.Bus.prototype.add_signal_watch</a></li>
<li class="links "><a href="Gst.Bus.add_signal_watch_full.html" title="Gst.Bus.prototype.add_signal_watch_full">Gst.Bus.prototype.add_signal_watch_full</a></li>
<li class="links "><a href="Gst.Bus.add_watch_full.html" title="Gst.Bus.prototype.add_watch_full">Gst.Bus.prototype.add_watch_full</a></li>
<li class="links "><a href="Gst.Bus.async_signal_func.html" title="Gst.Bus.prototype.async_signal_func">Gst.Bus.prototype.async_signal_func</a></li>
<li class="links "><a href="Gst.Bus.create_watch.html" title="Gst.Bus.prototype.create_watch">Gst.Bus.prototype.create_watch</a></li>
<li class="links "><a href="Gst.Bus.disable_sync_message_emission.html" title="Gst.Bus.prototype.disable_sync_message_emission">Gst.Bus.prototype.disable_sync_message_emission</a></li>
<li class="links "><a href="Gst.Bus.enable_sync_message_emission.html" title="Gst.Bus.prototype.enable_sync_message_emission">Gst.Bus.prototype.enable_sync_message_emission</a></li>
<li class="links "><a href="Gst.Bus.have_pending.html" title="Gst.Bus.prototype.have_pending">Gst.Bus.prototype.have_pending</a></li>
<li class="links "><a href="Gst.Bus.peek.html" title="Gst.Bus.prototype.peek">Gst.Bus.prototype.peek</a></li>
<li class="links "><a href="Gst.Bus.poll.html" title="Gst.Bus.prototype.poll">Gst.Bus.prototype.poll</a></li>
<li class="links "><a href="Gst.Bus.pop.html" title="Gst.Bus.prototype.pop">Gst.Bus.prototype.pop</a></li>
<li class="links "><a href="Gst.Bus.pop_filtered.html" title="Gst.Bus.prototype.pop_filtered">Gst.Bus.prototype.pop_filtered</a></li>
<li class="links "><a href="Gst.Bus.post.html" title="Gst.Bus.prototype.post">Gst.Bus.prototype.post</a></li>
<li class="links "><a href="Gst.Bus.remove_signal_watch.html" title="Gst.Bus.prototype.remove_signal_watch">Gst.Bus.prototype.remove_signal_watch</a></li>
<li class="links "><a href="Gst.Bus.set_flushing.html" title="Gst.Bus.prototype.set_flushing">Gst.Bus.prototype.set_flushing</a></li>
<li class="links "><a href="Gst.Bus.set_sync_handler.html" title="Gst.Bus.prototype.set_sync_handler">Gst.Bus.prototype.set_sync_handler</a></li>
<li class="links "><a href="Gst.Bus.sync_signal_handler.html" title="Gst.Bus.prototype.sync_signal_handler">Gst.Bus.prototype.sync_signal_handler</a></li>
<li class="links "><a href="Gst.Bus.timed_pop.html" title="Gst.Bus.prototype.timed_pop">Gst.Bus.prototype.timed_pop</a></li>
<li class="links "><a href="Gst.Bus.timed_pop_filtered.html" title="Gst.Bus.prototype.timed_pop_filtered">Gst.Bus.prototype.timed_pop_filtered</a></li>
</ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Properties</span></h2></div>
<div class="region"><ul><li class="links "><a href="Gst.Bus-enable-async.html" title="Gst.Bus:enable-async">enable-async</a></li></ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Signals</span></h2></div>
<div class="region"><ul>
<li class="links "><a href="Gst.Bus-message.html" title="Gst.Bus::message">message</a></li>
<li class="links "><a href="Gst.Bus-sync-message.html" title="Gst.Bus::sync-message">sync-message</a></li>
</ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Virtual functions</span></h2></div>
<div class="region"><ul><li class="links "><a href="Gst.Bus-sync_message.html" title="Gst.Bus::sync_message">Gst.Bus::sync_message</a></li></ul></div>
</div></div>
<div class="links topiclinks"><div class="inner">
<div class="title title-links"><h2><span class="title">Other</span></h2></div>
<div class="region"><ul><li class="links "><a href="Gst.Bus.new.html" title="Gst.Bus.new">Gst.Bus.new</a></li></ul></div>
</div></div>
</div>
<div class="sect sect-links" role="navigation">
<div class="hgroup"></div>
<div class="contents"><div class="links guidelinks"><div class="inner">
<div class="title"><h2><span class="title">More Information</span></h2></div>
<div class="region"><ul><li class="links "><a href="index.html" title="Index">Index</a></li></ul></div>
</div></div></div>
</div>
</div>
<div class="clear"></div>
</div>
<div class="footer"></div>
</div></body>
</html>
